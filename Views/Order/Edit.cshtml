@model part3.Models.EditOrderViewModel

    @{
        ViewBag.Title = "Edit Order";
    }



    <h2>Edit Order</h2>

    <form asp-action="Edit" method="post">
        <input type="hidden" asp-for="OrderId" />

        <div class="form-group">
            <label for="ComputerId">Select Computer:</label>
            <select asp-for="ComputerId" asp-items="@(new SelectList(Model.Computers, "Id", "Name"))" class="form-control">
                <option value="">--Select Computer--</option>
            </select>
        </div>

        @foreach (var componentType in Model.Components.Select(c => c.Type).Distinct())
        {
            <div class="form-group">
                <label>Select @componentType:</label>
                <select asp-for="SelectedComponents[componentType]" asp-items="@(new SelectList(Model.Components.Where(c => c.Type == componentType), "Id", "Name"))" class="form-control">
                    <option value="">--Select Component--</option>
                </select>
            </div>
        }

        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>

    <a asp-action="Index" class="btn btn-secondary">Back to Orders</a>


    @if (ViewBag.ErrorMessage != null)
    {
        <div class="alert alert-danger">
            @ViewBag.ErrorMessage
        </div>
    }

    @if (ViewBag.SuccessMessage != null)
    {
        <div class="alert alert-success">
            @ViewBag.SuccessMessage
        </div>
    }
@*@model part3.Models.EditOrderViewModel

@{
    ViewBag.Title = "Edit Order";
}

<h2>Edit Order</h2>

<form asp-action="Edit" method="post">
    <input type="hidden" asp-for="OrderId" />

    <div class="form-group">
        <label for="ComputerId">Select Computer:</label>
        <select asp-for="ComputerId" asp-items="@(new SelectList(Model.Computers, "Id", "Name"))" class="form-control">
            <option value="">--Select Computer--</option>
        </select>
    </div>

    @foreach (var componentType in Model.Components.Select(c => c.Type).Distinct())
    {
        <div class="form-group">
            <label>Select @componentType:</label>
            <select asp-for="SelectedComponents[@componentType]"
                    asp-items="@(new SelectList(Model.Components.Where(c => c.Type == componentType), "Id", "Name",
                    Model.SelectedComponents != null && Model.SelectedComponents.ContainsKey(componentType)
                        ? Model.SelectedComponents[componentType]
                        : (int?)null))"
                    class="form-control">
                <option value="">--Select Component--</option>
            </select>
        </div>
    }

    <button type="submit" class="btn btn-primary">Save Changes</button>
</form>

<a asp-action="Index" class="btn btn-secondary">Back to Orders</a>

@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger">
        @ViewBag.ErrorMessage
    </div>
}

@if (ViewBag.SuccessMessage != null)
{
    <div class="alert alert-success">
        @ViewBag.SuccessMessage
    </div>
}*@

